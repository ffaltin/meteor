!function(e,a,n){"use strict";function t(){G=e("html, body")}function l(a){a.handleGuid=w.handle+a.guid,a.isToggle="toggle"===a.type,a.open=!1,a.isToggle&&(a.gravity="");var n=w.base,t=[n,a.type].join("-"),l=a.gravity?[t,a.gravity].join("-"):"",s=[a.rawGuid,a.customClass].join(" ");a.handle=this.data(m+"-handle"),a.content=this.data(m+"-content"),a.handleClasses=[w.handle,w.handle.replace(n,t),l?w.handle.replace(n,l):"",a.handleGuid,s].join(" "),a.navClasses=[w.nav.replace(n,t),l?w.nav.replace(n,l):"",s].join(" "),a.contentClasses=[w.content.replace(n,t),l?w.content.replace(n,l):"",s].join(" "),a.$nav=this.addClass(a.navClasses),a.$handle=e(a.handle).addClass(a.handleClasses),a.$content=e(a.content).addClass(a.contentClasses),a.$animate=e().add(a.$nav).add(a.$content),v(a),a.$handle.attr("data-swap-target",a.dotGuid).attr("data-swap-linked","."+a.handleGuid).attr("data-swap-group",w.base).on("activate.swap"+a.dotGuid,a,r).on("deactivate.swap"+a.dotGuid,a,p).on("enable.swap"+a.dotGuid,a,h).on("disable.swap"+a.dotGuid,a,u).fsSwap({maxWidth:a.maxWidth,classes:{target:a.dotGuid,enabled:C.enabled,active:C.open,raw:{target:a.rawGuid,enabled:w.enabled,active:w.open}}})}function s(e){e.$content.removeClass(e.contentClasses).off(x.namespace),e.$handle.removeAttr("data-swap-target").removeData("swap-target").removeAttr("data-swap-linked").removeData("swap-linked").removeClass(e.handleClasses).off(e.dotGuid).text(e.originalLabel).fsSwap("destroy"),b(e),f(e),this.removeClass(e.navClasses).off(x.namespace)}function o(e){e.$handle.fsSwap("activate")}function d(e){e.$handle.fsSwap("deactivate")}function i(e){e.$handle.fsSwap("enable")}function c(e){e.$handle.fsSwap("disable")}function r(e){if(!e.originalEvent){var a=e.data;a.open||(a.$el.trigger(x.open),a.$content.addClass(w.open).one(x.clickTouchStart,function(){d(a)}),a.label&&a.$handle.text(a.labels.open),g(a),a.open=!0)}}function p(e){if(!e.originalEvent){var a=e.data;a.open&&(a.$el.trigger(x.close),a.$content.removeClass(w.open).off(x.namespace),a.label&&a.$handle.text(a.labels.closed),f(a),a.open=!1)}}function h(e){var a=e.data;a.$content.addClass(w.enabled),setTimeout(function(){a.$animate.addClass(w.animated)},0),a.label&&a.$handle.text(a.labels.closed)}function u(e){var a=e.data;a.$content.removeClass(w.enabled,w.animated),a.$animate.removeClass(w.animated),b(a),f(a)}function g(e){e.isToggle||G.addClass(w.lock)}function f(e){e.isToggle||G.removeClass(w.lock)}function v(e){if(e.label)if(e.$handle.length>1){e.originalLabel=[];for(var a=0,n=e.$handle.length;n>a;a++)e.originalLabel[a]=e.$handle.eq(a).text()}else e.originalLabel=e.$handle.text()}function b(e){if(e.label)if(e.$handle.length>1)for(var a=0,n=e.$handle.length;n>a;a++)e.$handle.eq(a).text(e.originalLabel[a]);else e.$handle.text(e.originalLabel)}var $=a.Plugin("navigation",{widget:!0,defaults:{customClass:"",gravity:"left",label:!0,labels:{closed:"Menu",open:"Close"},maxWidth:"980px",type:"toggle"},classes:["handle","nav","content","animated","enabled","open","toggle","push","reveal","overlay","left","right","lock"],events:{tap:"tap",open:"open",close:"close"},methods:{_setup:t,_construct:l,_destruct:s,open:o,close:d,enable:i,disable:c}}),m=$.namespace,C=$.classes,w=C.raw,x=$.events,G=($.functions,null)}(jQuery,Formstone);