!function(e,a,s){"use strict";function t(a){var s=this.closest("label"),t=s.length?s.eq(0):e("label[for="+this.attr("id")+"]"),c=[k.base,a.customClass].join(" "),o="";a.radio="radio"===this.attr("type"),a.group=this.attr("name"),o+='<div class="'+k.marker+'">',o+='<div class="'+k.flag+'"></div>',a.toggle&&(c+=" "+k.toggle,o+='<span class="'+[k.state,k.state_on].join(" ")+'">'+a.labels.on+"</span>",o+='<span class="'+[k.state,k.state_off].join(" ")+'">'+a.labels.off+"</span>"),a.radio&&(c+=" "+k.radio),o+="</div>",t.length?t.addClass(k.label).wrap('<div class="'+c+'"></div>').before(o):this.before('<div class=" '+c+'">'+o+"</div>"),a.$checkbox=t.length?t.parents(p.base):this.prev(p.base),a.$marker=a.$checkbox.find(p.marker),a.$states=a.$checkbox.find(p.state),a.$label=t,this.is(":checked")&&a.$checkbox.addClass(k.checked),this.is(":disabled")&&a.$checkbox.addClass(k.disabled),this.wrap('<div class="'+k.element_wrapper+'"></div>'),this.on($.focus,a,h).on($.blur,a,f).on($.change,a,n).on($.click,a,i).on($.deselect,a,b),a.$checkbox.fsTouch({tap:!0}).on($.tap,a,i)}function c(e){e.$checkbox.off($.namespace).fsTouch("destroy"),e.$marker.remove(),e.$states.remove(),e.$label.unwrap().removeClass(k.label),this.unwrap().off($.namespace)}function o(e){this.prop("disabled",!1),e.$checkbox.removeClass(k.disabled)}function l(e){this.prop("disabled",!0),e.$checkbox.addClass(k.disabled)}function d(e){var a=e.$el.is(":disabled"),s=e.$el.is(":checked");a||(s?r({data:e}):b({data:e}))}function i(a){a.stopPropagation();var s=a.data;e(a.target).is(s.$el)||(a.preventDefault(),s.$el.trigger("click"))}function n(e){var a=e.data,s=a.$el.is(":disabled"),t=a.$el.is(":checked");s||(a.radio?r(e):t?r(e):b(e))}function r(a){a.data.radio&&e('input[name="'+a.data.group+'"]').not(a.data.$el).trigger("deselect"),a.data.$checkbox.addClass(k.checked)}function b(e){e.data.$checkbox.removeClass(k.checked)}function h(e){e.data.$checkbox.addClass(k.focus)}function f(e){e.data.$checkbox.removeClass(k.focus)}var u=a.Plugin("checkbox",{widget:!0,defaults:{customClass:"",toggle:!1,labels:{on:"ON",off:"OFF"}},classes:["element_wrapper","label","marker","flag","radio","focus","checked","disabled","toggle","state","state_on","state_off"],methods:{_construct:t,_destruct:c,enable:o,disable:l,update:d},events:{deselect:"deselect",tap:"tap"}}),p=u.classes,k=p.raw,$=u.events;u.functions}(jQuery,Formstone);