!function(t,e,o){"use strict";function i(t){this.on(g.mouseEnter,t,r)}function n(t){d(),this.off(g.namespace)}function r(t){d();var e=t.data;e.left=t.pageX,e.top=t.pageY,a(e)}function l(t){var e=t.data;h.clearTimer(e.timer),d()}function c(t){s(t.pageX,t.pageY)}function a(o){d();var i="";i+='<div class="',i+=[m.base,m[o.direction],o.customClass].join(" "),i+='">',i+='<div class="'+m.content+'">',i+=o.formatter.call(o.$el,o),i+='<span class="'+m.caret+'"></span>',i+="</div>",i+="</div>",v={$tooltip:t(i),$el:o.$el},e.$body.append(v.$tooltip);var n=v.$tooltip.find(p.content),r=v.$tooltip.find(p.caret),a=o.$el.offset(),f=o.$el.outerHeight(),u=o.$el.outerWidth(),$=0,b=0,w=0,y=0,j=!1,C=!1,H=r.outerHeight(!0),W=r.outerWidth(!0),L=n.outerHeight(!0),M=n.outerWidth(!0);"right"===o.direction||"left"===o.direction?(C=(L-H)/2,y=-L/2,"right"===o.direction?w=o.margin:"left"===o.direction&&(w=-(M+o.margin))):(j=(M-W)/2,w=-M/2,"bottom"===o.direction?y=o.margin:"top"===o.direction&&(y=-(L+o.margin))),n.css({top:y,left:w}),r.css({top:C,left:j}),o.follow?o.$el.on(g.mouseMove,o,c):(o.match?"right"===o.direction||"left"===o.direction?(b=o.top,"right"===o.direction?$=a.left+u:"left"===o.direction&&($=a.left)):($=o.left,"bottom"===o.direction?b=a.top+f:"top"===o.direction&&(b=a.top)):"right"===o.direction||"left"===o.direction?(b=a.top+f/2,"right"===o.direction?$=a.left+u:"left"===o.direction&&($=a.left)):($=a.left+u/2,"bottom"===o.direction?b=a.top+f:"top"===o.direction&&(b=a.top)),s($,b)),o.timer=h.startTimer(o.timer,o.delay,function(){v.$tooltip.addClass(m.visible)}),o.$el.one(g.mouseLeave,o,l)}function s(t,e){v&&v.$tooltip.css({left:t,top:e})}function d(){v&&(v.$el.off([g.mouseMove,g.mouseLeave].join(" ")),v.$tooltip.remove(),v=null)}function f(t){return this.data("title")}var u=e.Plugin("tooltip",{widget:!0,defaults:{customClass:"",delay:0,direction:"top",follow:!1,formatter:f,margin:15,match:!1},classes:["content","caret","visible","top","bottom","right","left"],methods:{_construct:i,_destruct:n}}),p=u.classes,m=p.raw,g=u.events,h=u.functions,v=null}(jQuery,Formstone);